<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JSON to CSV Converter</title>
</head>
<body>
<script>
var JSONSources = ['data1.json', 'data2.json', 'data3.json', 'data4.json', 'data5.json', 'data6.json'];

function fetchDataAndConvertToCSV(url) {
    return new Promise((resolve, reject) => {
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4) {
                if (xhr.status === 200) {
                    var data = JSON.parse(xhr.responseText);
                    var csvContent = "Word, Meaning, Synonym, Antonym, Sentence, Pronunciation\n";
                    data.words.forEach(word => {
                        csvContent += `${word.word}, ${word.meaning}, ${word.synonym}, ${word.antonym}, ${word.sentence}, ${word.pronunciation}\n`;
                    });
                    resolve(csvContent);
                } else {
                    reject(new Error('Failed to fetch data from ' + url));
                }
            }
        };
        xhr.open('GET', url, true);
        xhr.send();
    });
}

function downloadCSV(csvContent, filename) {
    var blob = new Blob([csvContent], { type: 'text/csv' });
    if (window.navigator.msSaveOrOpenBlob) {
        window.navigator.msSaveBlob(blob, filename);
    } else {
        var elem = window.document.createElement('a');
        elem.href = window.URL.createObjectURL(blob);
        elem.download = filename;
        document.body.appendChild(elem);
        elem.click();
        document.body.removeChild(elem);
    }
}

window.onload = function() {
    Promise.all(JSONSources.map(fetchDataAndConvertToCSV))
        .then(csvContents => {
            var combinedCSV = csvContents.join('');
            downloadCSV(combinedCSV, 'combined_data.csv');
        })
        .catch(error => {
            console.error('Error:', error);
        });
};
</script>
</body>
</html>